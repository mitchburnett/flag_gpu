BeamformerBackend.py should be placed in $DIBAS_DIR/lib/python
dibas.conf should be placed in $DIBAS_DIR/etc/config

Before clobbering any GB configurations, I would backup these files on their end.
dibas.conf is significantly different than the one found at GB.

This requires the flag_gpu plugin to be installed. The version that must be installed is the "controlled" version, which is found in flag_gpu/controlled/correlator/src.

The magic code in BeamformerBackend.py that connects the player with the hashpipe pipeline is

def start_hpc(self):
    ...
    hpc_program = self.mode.hpc_prgram #Set by mode definitions in dibas.conf
    ...
    process_list = [hpc_program]
    if self.mode.hpc_program_flags:
        process_list = process_list + self.mode.hpc_program_flags.split()
    self.hpc_process = subprocess.Popen(process_list, stdin=subprocess.PIPE)
    ...

In the dibas.conf file:

[FLAG_BETA_MODE1]
...
hpc_program = hashpipe
hpc_program_flags = -p flag_gpu -c 0 flag_net_thread -c 1 flag_transpose_thread -c 2 flag_correlator_thread -c 3 flag_corsave_thread
...
